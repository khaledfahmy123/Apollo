{"version":3,"file":"static/js/299.d2bb3de7.chunk.js","mappings":"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","sources":["compos/tabs/track/compos/moon/moon.js","compos/tabs/track/compos/earth/earth.jsx","compos/tabs/track/compos/env/env.js","webpack://apollo/./src/compos/tabs/track/track.module.css?a9e9","compos/tabs/track/track.js"],"sourcesContent":["import * as THREE from \"three\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { Canvas, useFrame } from \"@react-three/fiber\";\r\nimport { PerspectiveCamera, useGLTF } from \"@react-three/drei\";\r\n\r\nconst toRad = (val) => (2 * Math.PI * val) / 360;\r\n\r\nvar data = require(\"./../coords5.json\");\r\n// var matrix = require(\"./../coords6.json\");\r\n\r\n// * -1/6371\r\n\r\nconst Obj = () => {\r\n  const obj = useRef();\r\n  useFrame(() => {\r\n    obj.current.rotation.z = toRad(15);\r\n    obj.current.rotation.y = toRad(35);\r\n    obj.current.rotation.x = toRad(-20);\r\n  });\r\n  const model = useGLTF(\r\n    require(\"./../../../../../assets/models/ISS_stationary.glb\")\r\n  );\r\n  return <primitive object={model.scene} scale={0.001} ref={obj} />;\r\n};\r\n\r\nexport const Moon = (props) => {\r\n  let i = props.counter;\r\n  const moon = useRef();\r\n  const cam = useRef();\r\n  const iss = useRef();\r\n  useFrame((state) => {\r\n    iss.current.position.x = -1 * data[Math.floor(i / 2)][0];\r\n    iss.current.position.z = data[Math.floor(i / 2)][1];\r\n    iss.current.position.y = data[Math.floor(i / 2)][2];\r\n\r\n    // // if(i%600 === 0){\r\n    // iss.current.rotation.x = (matrix[i][0][0]**2 + matrix[i][1][0]**2 + matrix[i][2][0]**2 )**0.5\r\n    // iss.current.rotation.y = (matrix[i][0][1]**2 + matrix[i][1][1]**2 + matrix[i][2][1]**2 )**0.5\r\n    // iss.current.rotation.z = (matrix[i][0][2]**2 + matrix[i][1][2]**2 + matrix[i][2][2]**2 )**0.5\r\n    // }\r\n\r\n    i++;\r\n  });\r\n\r\n  const mat = (val) => {\r\n    var matrix = new THREE.Matrix4(); // create once and reuse it\r\n\r\n    matrix.set(\r\n      val[0][0],\r\n      val[0][1],\r\n      val[0][2],\r\n      0,\r\n      val[1][0],\r\n      val[1][1],\r\n      val[1][2],\r\n      0,\r\n      val[2][0],\r\n      val[2][1],\r\n      val[2][2],\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      1\r\n    );\r\n\r\n    return matrix;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <mesh position={props.pivot} ref={moon}>\r\n        <PerspectiveCamera\r\n          makeDefault\r\n          position={[1.2, 0.5, 2.2]}\r\n          ref={cam}\r\n        ></PerspectiveCamera>\r\n        <mesh position={[1.1, 1, 1]} ref={iss} scale={1} castShadow>\r\n          <Obj />\r\n        </mesh>\r\n      </mesh>\r\n    </>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\nimport { useFrame, useLoader } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\n\nimport EarthDayMap from \"./../../../../../assets/textures/8k_earth_daymap.jpg\";\nimport EarthNormalMap from \"./../../../../../assets/textures/8k_earth_normal_map.jpg\";\nimport EarthSpecularMap from \"./../../../../../assets/textures/8k_earth_specular_map.jpg\";\nimport EarthCloudsMap from \"./../../../../../assets/textures/8k_earth_clouds.jpg\";\nimport { TextureLoader } from \"three\";\n\nexport function Earth(props) {\n  const [colorMap, normalMap, specularMap, cloudsMap] = useLoader(\n    TextureLoader,\n    [EarthDayMap, EarthNormalMap, EarthSpecularMap, EarthCloudsMap]\n  );\n\n  const earthRef = useRef();\n  const cloudsRef = useRef();\n\n  useFrame(() => {\n\n    earthRef.current.rotation.y += 2 * Math.PI/(3600*24);\n    cloudsRef.current.rotation.y = 2 * Math.PI/(3600*24);\n  });\n  let radius = 1;\n  return (\n    <>\n      <mesh ref={cloudsRef} position={[0, 0, 0]} castShadow receiveShadow frustumCulled>\n        <sphereGeometry args={[radius + 0.005, 32, 32]} />\n        <meshPhongMaterial\n          map={cloudsMap}\n          opacity={0.4}\n          depthWrite={true}\n          transparent={true}\n          side={THREE.DoubleSide}\n        />\n      </mesh>\n      <mesh ref={earthRef} position={[0, 0, 0]} castShadow receiveShadow>\n        <sphereGeometry args={[radius, 32, 32]} />\n        <meshPhongMaterial specularMap={specularMap} />\n        <meshStandardMaterial\n          map={colorMap}\n          normalMap={normalMap}\n          metalness={0.4}\n          roughness={0.7}\n        />\n      </mesh>\n    </>\n  );\n}\n","import { Stars } from \"@react-three/drei\";\r\n\r\nexport const Env = () => {\r\n  return (\r\n    <>\r\n      <pointLight\r\n        color=\"#f6f3ea\"\r\n        position={[1, 0, 5]}\r\n        intensity={1.4}\r\n        castShadow\r\n        shadow-mapSize-height={512}\r\n        shadow-mapSize-width={512}\r\n      />\r\n      {/* <ambientLight intensity={1.2} /> */}\r\n      <Stars\r\n        radius={300}\r\n        depth={60}\r\n        count={20000}\r\n        factor={7}\r\n        saturation={0}\r\n        fade={true}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"date_parent\":\"track_date_parent__dkeEL\",\"date\":\"track_date__andeU\",\"btn\":\"track_btn__wk5Eg\"};","import React, { useRef, useState } from \"react\";\r\nimport { Canvas, useThree } from \"@react-three/fiber\";\r\nimport { OrbitControls } from \"@react-three/drei\";\r\nimport { Moon } from \"./compos/moon/moon\";\r\nimport { Earth } from \"./compos/earth/earth\";\r\nimport { Env } from \"./compos/env/env\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport styles from \"./track.module.css\";\r\n\r\nconst toDeg = (val) => (val / (Math.PI * 2)) * 360;\r\n\r\nconst Track = () => {\r\n  const [date, setDate] = useState(new Date());\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  console.log(date);\r\n\r\n  const jumpTo = () => {\r\n    let now = new Date();\r\n    let dif = (date - now) % (93 * 60);\r\n    setCounter(Math.abs(dif * 30));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button onClick={jumpTo} className={styles.btn}>\r\n        Explore\r\n      </button>\r\n      <div className={styles.date_parent}>\r\n        <DateTimePicker\r\n          value={date}\r\n          className={styles.date}\r\n          onChange={setDate}\r\n        />\r\n      </div>\r\n      <Canvas>\r\n        <Env />\r\n        <Earth />\r\n        <Moon pivot={[0, 0, 0]} obj_position={[1.2, 0, 0]} counter={counter} />\r\n        <OrbitControls makeDefault />\r\n      </Canvas>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Track;"],"names":["toRad","val","Math","PI","data","require","Obj","obj","useRef","useFrame","current","rotation","z","y","x","model","useGLTF","object","scene","scale","ref","Moon","props","i","counter","moon","cam","iss","state","position","floor","pivot","PerspectiveCamera","makeDefault","castShadow","Earth","useLoader","TextureLoader","EarthDayMap","EarthNormalMap","EarthSpecularMap","EarthCloudsMap","colorMap","normalMap","specularMap","cloudsMap","earthRef","cloudsRef","receiveShadow","frustumCulled","args","radius","map","opacity","depthWrite","transparent","side","THREE","metalness","roughness","Env","color","intensity","Stars","depth","count","factor","saturation","fade","useState","Date","date","setDate","setCounter","console","log","onClick","now","dif","abs","className","styles","value","onChange","obj_position","OrbitControls"],"sourceRoot":""}